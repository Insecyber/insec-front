<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waiting List</title>
    <link rel="shortcut icon" type="image/jpg" href="images/favicon.ico"/>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/form.css">

</head>

<body>
    <section id="form-header">
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
                <p class="navbar-brand logo" href="#head"><img class="mb-3 nav-logo " src="images/InSec Logo Black 1.png" alt="" srcset="">INSEC</p>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa fa-bars" aria-hidden="true"></i>
                </button>
                <div class="collapse navbar-collapse mb-5 ibm_mono" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto my-nav">
                        <li class="nav-item">
                            <a class="nav-link active px-3" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link  px-3" href="#footer">Contact</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link  px-3" href="about.html">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link  px-3" href="#explore-all">Services</a>
                        <!-- </li> 
                            <li class="nav-item">
                            <a class="nav-link  px-3" href="">Blog</a>
                        </li> -->
                    </ul>
                </div>
            </div>
        </nav>
    </section>
    <section id="form" class="container">
        <div class="row">
            <div class="col-lg-6 wait-list">
                <img class="frame" src="images/frame.png" alt="" srcset=""><h5 class="mt-3 f-text" >Join our waitlist</h5>
                <p class="ibm_mono">Be a part of our first set of <br> customers as we launch</p>
            </div>
            <div class="col-lg-6 me-5 ibm_mono form">
                <ul class="nav nav-pills mb-3 nav-fill" id="pills-tab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="pills-client-tab" data-bs-toggle="pill" data-bs-target="#pills-client" type="button" role="tab" aria-controls="pills-client" aria-selected="true">Client</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-freelancer-tab" data-bs-toggle="pill" data-bs-target="#pills-freelancer" type="button" role="tab" aria-controls="pills-freelancer" aria-selected="false">Freelancer</button>
                    </li>
                </ul>
                <div class="tab-content" id="pills-tabContent">
                    <div class="tab-pane fade show active" id="pills-client" role="tabpanel" aria-labelledby="pills-client-tab">
                        <form class="mx-4 my-3" id="client_form" action="">
                            <label for="name">Name</label>
                            <input type="text" id="client_name" name="name" placeholder="Tell us your full name" required>
                            <br>
                            <label for="email">Email</label>
                            <input type="email" id="client_email" name="email" placeholder="johndoe@gmail.com" required>
                            <input type="hidden" id="type1" name="type" value="client">
                            <label for="company">Company</label>
                            <input type="text" id="client_company" name="company" placeholder="Tell us your company name" required>
                            <label for="country">Country</label>
                            <br>
                            <select id="client_country" name="country" class="country" required>

                            </select>
                            <input type="submit" value="Join Waitlist">
                        </form>
                    </div>
                    <div class="tab-pane fade" id="pills-freelancer" role="tabpanel" aria-labelledby="pills-freelancer-tab">
                        <form class="mx-4 my-3" id="freelancer_form"  action="">
                            <label for="name">Name</label>
                            <input type="text" id="freelancer_name" name="name" placeholder="Tell us your full name" required>
                            <br>
                            <label for="email">Email</label>
                            <input type="email" id="freelancer_email" name="email" placeholder="johndoe@gmail.com" required>
                            <input type="hidden" id="type2" name="type" value="freelancer">
                            <label for="country">Country</label>
                            <br>
                             <select id="freelancer_country" name="country" class="country" required>

                            </select>
                            <input type="submit" value="Join Waitlist">
                        </form>
                    </div>
                    
                </div>
            </div>
        </div>
    </section>   
    
    <section id="popUp" class="modal">
        <div class="pop">
            <img class src="images/popImage.png" alt=""> 
            <h5>Thanks for joining us</h5> 
            <p class="ibm_mono">Welcome to the world of experts, we will reach out to you before we launch. Have a secured time.</p>
            <div id="join">
                <!-- <a href="index.html" class="btn btn-success ibm_mono mx-2">Go home</a> -->
                <a href="https://www.insecyber.com" class="btn btn-success ibm_mono mx-2">Go home</a>
            </div>
        </div>
    </section>
    <section id="error" class="modal">
        <div class="pop">
          <img class src="images/popImage.png" alt=""> 
          <h5>Error 404</h5> 
          <!-- <p class="ibm_mono">Something must be wrong somewhere, This page is not available. </p> -->
          <p class="ibm_mono">Something must be wrong somewhere.</p>
          <div id="join">
            <a href="https://www.insecyber.com" class="btn btn-success ibm_mono mx-2">Go home</a>
        </div>
        </div>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js" integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK" crossorigin="anonymous"></script>
    <script src="js/vendors.min.js"></script>
    <script>
        $(document).ready(function() {
            $("#client_form").submit(function(e) {

                e.preventDefault();

                const submit_button = $(this).find("button[type='submit']");

                submit_button.html("<span class='fas fa-spinner fa-spin text-white'></span> Joining...");

                name = $('#client_name').val();
                email = $('#client_email').val();
                type = $('#type1').val();
                country = $('#client_country').val();
                company = $('#client_company').val();
            
            });
                $.ajax({
                    type: 'POST',
                    url: `scripts/join-script.php`,
                    data: {
                        name: name,
                        email: email,
                        type: type,
                        country: country,
                        company: company
                    }
                }).done(function(res) {
                    res = JSON.parse(res);
                    if (res.status == true) {
                        $('#popUp').modal('show');
            //             const message = document.getElementById('message');
            //             message.innerText= res.message;
                        // setTimeout(function() {
                        //     $('#popUp').modal('hide');
                        //     window.location.href('https://www.insecyber.com');
                        // }, 5000);
                        // alert(res.message);
                    } else {
                        $('#error').modal('show');
            //             const message = document.getElementById('message');
            //             message.innerText= res.message;
            //             setTimeout(function() {
            //                 $('#info').modal('hide');
            //             }, 2000);
                        // alert(res.message);
                        // setTimeout(function() {
                        //     $('#popUp').modal('hide');
                        // }, 5000);
                        // alert(
                    }
                }).fail(function() {
            //         danger.attr('class', 'modal-header bg-warning white');
            //         $('#addItem').modal('hide');
            //         $('#info').modal('show');
            //         const message = document.getElementById('message')
            //         message.innerText= "An error occured";
                    // alert('An error occured');
                    $('#error').modal('show');
                    // setTimeout(function() {
                    //         $('#popUp').modal('hide');
                    // }, 5000);
                })
            });

            $("#freelancer_form").submit(function(e) {

                e.preventDefault();

                const submit_button = $(this).find("button[type='submit']");

                submit_button.html("<span class='fas fa-spinner fa-spin text-white'></span> Joining...");

                name = $('#freelancer_name').val();
                email = $('#freelancer_email').val();
                type = $('#type2').val();
                country = $('#freelancer_country').val();

                $.ajax({
                    type: 'POST',
                    url: `scripts/join-script.php`,
                    data: {
                        name: name,
                        email: email,
                        type: type,
                        country: country
                    }
                }).done(function(res) {
                    // console.log(res)
                    res = JSON.parse(res);
                    if (res.status == true) {
                        $('#popUp').modal('show');
            //             const message = document.getElementById('message');
            //             message.innerText= res.message;
                        // setTimeout(function() {
                        //     $('#popUp').modal('hide');
                        //     window.location.href('https://www.insecyber.com');
                        // }, 5000);
                    } else {
                        // alert(res.message);
                        $('#error').modal('show');
                    }
                }).fail(function() {
                    // alert('An error occured');
                    $('#error').modal('show');
                })
            });
        $(function() {
            $.ajax({
                url: 'scripts/country.php',
                method: 'GET',
            }).done(function(res) {
                res = JSON.parse(res);
                countries = res.data;
                $('.country').html('<option value="" selected disabled> --Select Country -- </option> ');
                countries.map((country) => {
                    $('.country').append(`<option value="${country.id}">${country.name}</option> `);
                })
            });
        });

    </script>
</body>
</html>